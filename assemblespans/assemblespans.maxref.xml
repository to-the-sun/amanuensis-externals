<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<c74object name="assemblespans">
    <digest>Assembles spans of notes and offsets for a music transcript.</digest>
    <description>
        The `assemblespans` object receives individual note and offset timestamps and groups them into spans for each track. A span is a contiguous sequence of bars. The object automatically ends (flushes) a span when it receives a timestamp that creates a bar that is not contiguous with the previous bars in the span. A span can also be ended manually by sending a `bang` to the first inlet.
    </description>

    <!-- Methods -->
    <method name="clear">
        <digest>Resets the object's internal state.</digest>
        <description>The `clear` message clears the object's working memory, resetting it to its initial state. This includes deleting all stored track data, and resetting the current track, bar length, and palette to their default values.</description>
    </method>

    <!-- Inlets -->
    <inlet name="in" type="list">
        <digest>Timestamp-score pair for a single note.</digest>
        <description>Receives a list of two floats: the absolute millisecond timestamp of a single note and its corresponding score.</description>
    </inlet>
    <inlet name="in" type="float">
        <digest>Absolute millisecond timestamp of an offset.</digest>
        <description>Receives a float representing the absolute millisecond timestamp of an offset.</description>
    </inlet>
    <inlet name="in" type="int">
        <digest>Track number.</digest>
        <description>Receives an integer that sets the current track for incoming notes and offsets.</description>
    </inlet>
    <inlet name="in" type="int">
        <digest>Bar length in milliseconds.</digest>
        <description>Receives an integer that sets the bar length in milliseconds.</description>
    </inlet>
    <inlet name="in" type="symbol">
        <digest>Palette name.</digest>
        <description>Receives a symbol that sets the current palette.</description>
    </inlet>

    <!-- Outlets -->
    <outlet name="out" type="list">
        <digest>Span of bar timestamps.</digest>
        <description>Outputs a list of integers representing the bar timestamps of a completed span.</description>
    </outlet>
    <outlet name="out" type="int">
        <digest>Track number.</digest>
        <description>Outputs the track number associated with the completed span.</description>
    </outlet>
</c74object>
